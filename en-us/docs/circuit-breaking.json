{
  "filename": "circuit-breaking.md",
  "__html": "<h1>Circuit Breaking</h1>\n<h2>Introduction</h2>\n<p>Circuit breaking is used to degrade (cut down, fast fail) a resource when it is in an unstable state. There are several ways to determine whether a resource is in a stable state:</p>\n<ul>\n<li>Average Response Time (<code>DEGRADE_RT</code>): When the average RT exceeds the threshold (<code>count</code> in <code>DegradeRule</code>, in ms), the resource enters a quasi-degraded state. If the RT of next coming five requests still exceeds this threshold, this resource will be degraded, which means that in the next time window (defined in 'timeWindow', in second) all the access to this resource will be blocked.</li>\n<li>Exception Ratio: <code>exception ratio = exception count per second / success QPS</code>. When the ratio exceeds the threshold, access to the resource will be blocked in the specified time window.</li>\n<li>Exception Count: circuit breaking by exception count per minute.</li>\n</ul>\n<p>For circuit breaking rules, you can refer to <a href=\"https://github.com/alibaba/Sentinel/wiki/How-to-Use#circuit-breaking-rules-degraderule\">here</a>.</p>\n<h2>Demo</h2>\n<p>Run the demo and the output will be as follows:</p>\n<pre><code> 1529399827825,total:0, pass:0, block:0\n 1529399828825,total:4263, pass:100, block:4164  \n 1529399829825,total:19179, pass:4, block:19176\n 1529399830824,total:19806, pass:0, block:19806  // Circuit breaker opens (begin to degrade)\n 1529399831825,total:19198, pass:0, block:19198  \n 1529399832824,total:19481, pass:0, block:19481\n 1529399833826,total:19241, pass:0, block:19241\n 1529399834826,total:17276, pass:0, block:17276\n 1529399835826,total:18722, pass:0, block:18722\n 1529399836826,total:19490, pass:0, block:19492\n 1529399837828,total:19355, pass:0, block:19355\n 1529399838827,total:11388, pass:0, block:11388\n 1529399839829,total:14494, pass:104, block:14390 //After 10 seconds, the system is restored, and degraded very quickly\n 1529399840854,total:18505, pass:0, block:18505\n 1529399841854,total:19673, pass:0, block:19676\n</code></pre>\n",
  "link": "/en-us/docs/circuit-breaking.html",
  "meta": {}
}