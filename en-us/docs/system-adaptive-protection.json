{
  "filename": "system-adaptive-protection.md",
  "__html": "<h1>System Adaptive Protection</h1>\n<h2>Overview</h2>\n<p>Adaptive system protection maintains high system throughput under the premise of reliability of the system.</p>\n<p>The idea of <a href=\"https://en.wikipedia.org/wiki/TCP_congestion_control#TCP_BBR\">TCP BBR</a> gives us inspiration. We should balance the requests that the system can handle and the requests that are allowed to pass, rather than relying on a single metric (system load). Our ultimate goal is to increase the throughput of the system within appropriate system load, rather than the load must be restricted below a threshold.</p>\n<p>Sentinel's approach to system load protection is to use <code>load1</code> as the metric to initiate traffic control, and the traffic allowed to pass is determined by the ability to process the request, including the response time and current QPS.</p>\n<p>We've provided a demo for system adaptive protection: <a href=\"https://github.com/alibaba/Sentinel/blob/master/sentinel-demo/sentinel-demo-basic/src/main/java/com/alibaba/csp/sentinel/demo/system/SystemGuardDemo.java\">SystemGuardDemo</a>.</p>\n<h2>Usage</h2>\n<p>There are several kinds of global protection item:</p>\n<ul>\n<li>System load</li>\n<li>Global QPS</li>\n<li>Global average response time</li>\n<li>Global max thread count</li>\n</ul>\n<h2>Principle</h2>\n<h3>Load Protection</h3>\n<p><img src=\"https://camo.githubusercontent.com/5b1fd9b8d18c504f0c910c00b2b58876ab4eb452/687474703a2f2f617461322d696d672e636e2d68616e677a686f752e696d672d7075622e616c6979756e2d696e632e636f6d2f62313766326563396132346261376639373033643034626334343239633637342e6a7067\" alt=\"TCP BBR\"></p>\n<p>The request will be blocked under the condition:</p>\n<ul>\n<li>Current system load (<code>load1</code>) exceeds the threshold (<code>highestSystemLoad</code>);</li>\n<li>Current concurrent requests exceeds the capacity (<code>thread count &gt; minRt * maxQps</code>)</li>\n</ul>\n<h3>Global Metrics Protection</h3>\n<p>We have a global statistic node <code>ENTRY_NODE</code> which records global metrics (e.g. QPS, average RT and thread count).</p>\n",
  "link": "/en-us/docs/system-adaptive-protection.html",
  "meta": {}
}